<head>
  <meta charset="UTF-8">
  <title>Upload Center</title>
  <link rel="stylesheet" href="https://MadeByEmil.github.io/up/css/main.css">
  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
</head>
<body>
<script src="https://cdn.filesizejs.com/filesize.min.js"></script>
<script>
	$(document).ready(function(){
		$.getJSON("https://api.github.com/repos/MadeByEmil/up/contents/?ref=gh-pages", function(result) {
			$.each(result, function(i, item){
				var $path_rest = item.path.replace(item.name, "");

				if(item.name !== "index.html")
				{
					if (item.size < 1100000) {
						$.getJSON("https://api.github.com/repos/MadeByEmil/up/contents/" + item.path + "?ref=gh-pages", function(f_result) {

							if(!Array.isArray(f_result))
							{
								var $file_base64 = f_result.content.replace("\n", "");
								
								console.log(f_result.name);
								console.log(f_result.message);
								var $file_url = "data:application/octet-stream;base64," + $file_base64;
								console.log($file_url);
								console.log("https://MadeByEmil.github.io/" + $path_rest + item.name);

								$("ul").append('<p>◾ <text class="small">' + $path_rest + '</text><a id="' + item.sha + '-file_link" class="active" href="' + $file_url + '"' + 'title="' + "SHA of Git commit: " + item.sha + '" download="' + item.name + '" target="_blank" type="application/octet-stream">' + item.name + '</a>' + ' - <strong>' + item['type'] + '</strong><text class="small"> [' + item.size + ' characters, ' + filesize(item.size, {standard: "iec", fullform: true, round: 3, base: 2}) + ']</text>' + '</li></p>')
						} else {
							var $file_url = "https://MadeByEmil.github.io/" + $path_rest + item.name;
							console.log($file_url);
							$("ul").append('<p>◾ <text class="small">' + $path_rest + '</text><a id="' + item.sha + '-file_link" class="active" href="' + $file_url + '"' + 'title="' + "SHA of Git commit: " + item.sha + '">' + item.name + '</a>' + ' - <strong>' + item['type'] + '</strong>' + '</li></p>')
						}

						})

					} else {
						var $file_url = "https://MadeByEmil.github.io/" + $path_rest + item.name;
						console.log($file_url);
						$("ul").append('<p>◾ <text class="small">' + $path_rest + '</text><a id="' + item.sha + '-file_link" class="active" href="' + $file_url + '"' + 'title="' + "SHA of Git commit: " + item.sha + '" download="' + item.name + '" target="_blank" type="application/octet-stream">' + item.name + '</a>' + ' - <strong>' + item['type'] + '</strong><text class="small"> [' + item.size + ' characters, ' + filesize(item.size, {standard: "iec", fullform: true, round: 3, base: 2}) + ']</text>' + '</li></p>')
					}
				}

				var colors = ['#222', '#666', 'rgb(255,59,48)', 'rgb(255,149,0)', 'rgb(0,122,255)', 'rgb(88,86,214)', 'rgb(255,45,85)'];
				var randomColor = colors[Math.floor(Math.random() * colors.length)];
				$('a:link, a:visited, a:hover, a:active').css('color', randomColor);
			});
		});
	});

</script>
<h1>The upload directory.</h1>
<noscript>
  <a href="https://github.com/MadeByEmil/up/tree/master/up">Browse … </a>
<!-- <br> -->
</noscript>
<!-- <button type="button">List files  … </button> -->
<ul style="color: #aaa"></ul>
  <!-- <script>
var colors = ['#222', '#666', 'rgb(255,59,48)', 'rgb(255,149,0)', 'rgb(255,204,0)', 'rgb(76,217,100)', 'rgb(90,200,250)', 'rgb(0,122,255)', 'rgb(88,86,214)', 'rgb(255,45,85)'];
var randomColor = colors[Math.floor(Math.random() * colors.length)];
$('a:link, a:visited, a:hover, a:active').css('color', randomColor);
</script> -->
</body>
<div class="footer">
  <hr />
  <p style="all: unset;">Built using <a href="https://github.com/MadeByEmil/WDHAN">WDHAN</a> <a href="https://github.com/MadeByEmil/WDHAN/releases/tag/v1.5">v1.5</a></p>
</div>
<script>
  var colors = ['#222', '#666', 'rgb(255,59,48)', 'rgb(255,149,0)', 'rgb(0,122,255)', 'rgb(88,86,214)', 'rgb(255,45,85)'];
  var randomColor = colors[Math.floor(Math.random() * colors.length)];
  $('a:link, a:visited, a:hover, a:active').css('color', randomColor);
</script>
